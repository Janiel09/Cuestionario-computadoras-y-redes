<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Cuestionario Did√°ctico de Hardware y Redes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg: #0f172a;
      --bg-soft: #020617;
      --card: #ffffff;
      --primary: #4f46e5;
      --primary-dark: #3730a3;
      --primary-soft: #e0e7ff;
      --accent: #06b6d4;
      --border: #e5e7eb;
      --text-main: #0f172a;
      --text-muted: #6b7280;
      --danger: #dc2626;
      --success: #16a34a;
      --radius-card: 18px;
      --shadow-card: 0 14px 35px rgba(15,23,42,0.32);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
      background:
        radial-gradient(circle at top, #1e293b 0, #020617 45%),
        radial-gradient(circle at bottom, #020617 0, #020617 55%);
      color: #f9fafb;
    }

    .app-container {
      width: 100%;
      max-width: 1100px;
      background: linear-gradient(135deg, rgba(15,23,42,0.98), rgba(17,24,39,0.98));
      border-radius: 26px;
      border: 1px solid rgba(148,163,184,0.35);
      box-shadow: var(--shadow-card);
      padding: 18px 18px 14px;
    }

    header {
      border-bottom: 1px solid rgba(148,163,184,0.35);
      padding-bottom: 10px;
      margin-bottom: 12px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    header h1 {
      font-size: clamp(1.6rem, 2.4vw, 2.1rem);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .header-badge {
      font-size: 0.75rem;
      padding: 3px 10px;
      border-radius: 999px;
      border: 1px solid rgba(129,140,248,0.7);
      background: rgba(129,140,248,0.18);
      color: #c7d2fe;
    }

    header p {
      font-size: 0.9rem;
      color: #9ca3af;
      max-width: 720px;
    }

    .layout {
      display: grid;
      grid-template-columns: minmax(0, 1.4fr) minmax(0, 1fr);
      gap: 14px;
    }

    @media (max-width: 880px) {
      .layout {
        grid-template-columns: 1fr;
      }
    }

    .card-main,
    .card-side {
      background: #0b1120;
      border-radius: var(--radius-card);
      border: 1px solid rgba(31,41,55,0.9);
      padding: 14px 14px 10px;
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      margin-bottom: 6px;
    }

    .card-header h2 {
      font-size: 1rem;
      color: #e5e7eb;
    }

    .pill {
      font-size: 0.75rem;
      padding: 3px 9px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.45);
      background: rgba(15,23,42,0.95);
      color: #9ca3af;
    }

    .helper-text {
      font-size: 0.85rem;
      color: #9ca3af;
      margin-bottom: 8px;
    }

    /* Campo nombre y bot√≥n */
    .field {
      margin-bottom: 10px;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    label {
      font-size: 0.8rem;
      color: #9ca3af;
    }

    input[type="text"] {
      padding: 9px 12px;
      border-radius: 999px;
      border: 1px solid rgba(55,65,81,0.9);
      background: rgba(15,23,42,0.9);
      color: #e5e7eb;
      font-size: 0.9rem;
      outline: none;
      transition: border 0.15s ease-out, box-shadow 0.15s ease-out, background 0.15s ease-out, transform 0.15s ease-out;
    }

    input[type="text"]:focus {
      border-color: var(--primary);
      background: #020617;
      box-shadow: 0 0 0 1px rgba(129,140,248,0.75);
      transform: translateY(-1px);
    }

    .btn {
      border-radius: 999px;
      border: 1px solid rgba(129,140,248,0.9);
      background: radial-gradient(circle at top, rgba(129,140,248,0.45), rgba(79,70,229,0.98));
      color: #eef2ff;
      font-size: 0.9rem;
      font-weight: 600;
      padding: 9px 15px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      box-shadow: 0 10px 24px rgba(79,70,229,0.75);
      transition: transform 0.15s ease-out, box-shadow 0.15s ease-out, opacity 0.15s ease-out, filter 0.15s;
    }

    .btn span.icon {
      font-size: 1rem;
    }

    .btn:disabled {
      opacity: 0.45;
      cursor: not-allowed;
      box-shadow: none;
      filter: grayscale(0.4);
    }

    .btn:not(:disabled):hover {
      transform: translateY(-1px);
      box-shadow: 0 14px 30px rgba(79,70,229,0.9);
      filter: brightness(1.05);
    }

    .btn-outline {
      background: transparent;
      border-color: rgba(148,163,184,0.7);
      box-shadow: none;
      color: #e5e7eb;
    }

    .btn-outline:hover:not(:disabled) {
      background: rgba(15,23,42,0.95);
      box-shadow: 0 0 0 1px rgba(148,163,184,0.6);
    }

    .tags-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
      font-size: 0.75rem;
    }

    .tag {
      padding: 3px 7px;
      border-radius: 999px;
      border: 1px dashed rgba(75,85,99,0.9);
      background: rgba(15,23,42,0.95);
      color: #9ca3af;
    }

    /* Quiz wrapper */

    .quiz-wrapper {
      margin-top: 10px;
      border-radius: 14px;
      border: 1px solid rgba(31,41,55,0.9);
      background: radial-gradient(circle at top left, rgba(56,189,248,0.16), rgba(15,23,42,0.95));
      padding: 10px 10px 8px;
    }

    .quiz-header {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-bottom: 8px;
    }

    .quiz-top-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 6px;
      font-size: 0.78rem;
      color: #9ca3af;
    }

    .badge {
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid rgba(55,65,81,0.9);
      background: rgba(15,23,42,0.98);
    }

    .progress-bar {
      width: 100%;
      height: 7px;
      border-radius: 999px;
      background: rgba(15,23,42,0.95);
      border: 1px solid rgba(55,65,81,0.9);
      overflow: hidden;
    }

    .progress-inner {
      height: 100%;
      width: 0;
      border-radius: inherit;
      background: linear-gradient(90deg, #22c55e, #06b6d4);
      transition: width 0.25s ease-out;
    }

    .question-text {
      font-size: 0.95rem;
      margin-bottom: 8px;
      color: #e5e7eb;
    }

    .options-list {
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 5px;
      margin-bottom: 8px;
    }

    .option-item {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      padding: 7px 9px;
      border-radius: 10px;
      border: 1px solid rgba(55,65,81,0.9);
      background: rgba(15,23,42,0.98);
      cursor: pointer;
      font-size: 0.9rem;
      transition: border 0.15s ease-out, background 0.15s ease-out, transform 0.15s ease-out, box-shadow 0.15s ease-out;
    }

    .option-item:hover {
      border-color: var(--accent);
      background: rgba(15,23,42,1);
      transform: translateY(-1px);
      box-shadow: 0 8px 18px rgba(15,23,42,0.9);
    }

    .option-item input {
      margin-top: 3px;
      accent-color: var(--primary);
      cursor: pointer;
    }

    .option-label {
      display: flex;
      gap: 4px;
    }

    .option-letter {
      font-weight: 600;
      color: var(--accent);
      min-width: 16px;
    }

    .quiz-footer {
      display: flex;
      flex-direction: column;
      gap: 4px;
      font-size: 0.8rem;
      color: #9ca3af;
    }

    .hidden {
      display: none !important;
    }

    /* Panel lateral did√°ctico */

    .side-title {
      font-size: 0.95rem;
      font-weight: 600;
      margin-bottom: 4px;
      display: flex;
      align-items: center;
      gap: 6px;
      color: #e5e7eb;
    }

    .side-title span.icon {
      font-size: 1.1rem;
      color: var(--accent);
    }

    .side-topic {
      font-size: 0.78rem;
      padding: 3px 8px;
      border-radius: 999px;
      background: rgba(15,23,42,0.95);
      border: 1px solid rgba(56,189,248,0.7);
      color: #e0f2fe;
      display: inline-flex;
      align-items: center;
      gap: 5px;
      margin-bottom: 6px;
    }

    .side-topic span.dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: #22c55e;
    }

    .side-box {
      border-radius: 12px;
      border: 1px solid rgba(31,41,55,0.9);
      background: rgba(15,23,42,0.98);
      padding: 8px 9px;
      font-size: 0.82rem;
      color: #9ca3af;
      min-height: 90px;
    }

    .side-box strong {
      color: #e5e7eb;
    }

    .side-footer {
      margin-top: 6px;
      font-size: 0.78rem;
      color: #9ca3af;
    }

    /* Resultados */

    .results-section {
      margin-top: 10px;
      border-radius: 14px;
      border: 1px solid rgba(31,41,55,0.9);
      background: radial-gradient(circle at top, rgba(74,222,128,0.18), rgba(15,23,42,0.98));
      padding: 10px 10px 8px;
    }

    .results-section h3 {
      font-size: 1rem;
      margin-bottom: 4px;
      color: #e5e7eb;
    }

    .results-summary {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin: 8px 0;
      font-size: 0.85rem;
    }

    .summary-pill {
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(55,65,81,0.9);
      background: rgba(15,23,42,0.98);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
    }

    .dot.success { background: var(--success); }
    .dot.error { background: var(--danger); }

    .score-text {
      font-size: 1.1rem;
      font-weight: 700;
      color: #bbf7d0;
    }

    .review-list {
      max-height: 260px;
      overflow-y: auto;
      padding-right: 4px;
      font-size: 0.8rem;
      margin-top: 6px;
    }

    .review-list::-webkit-scrollbar {
      width: 6px;
    }

    .review-list::-webkit-scrollbar-track {
      background: rgba(15,23,42,0.95);
      border-radius: 999px;
    }

    .review-list::-webkit-scrollbar-thumb {
      background: rgba(148,163,184,0.7);
      border-radius: 999px;
    }

    .review-item {
      border-radius: 11px;
      border: 1px solid rgba(55,65,81,0.9);
      background: rgba(15,23,42,0.98);
      padding: 7px 9px;
      margin-bottom: 6px;
    }

    .review-item.correct {
      border-color: rgba(34,197,94,0.9);
    }

    .review-item.incorrect {
      border-color: rgba(239,68,68,0.95);
    }

    .review-item h4 {
      font-size: 0.85rem;
      margin-bottom: 3px;
      color: #e5e7eb;
    }

    .review-item p {
      margin-bottom: 2px;
      color: #9ca3af;
    }

    .review-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 3px;
    }

    .review-tag {
      padding: 3px 7px;
      border-radius: 999px;
      border: 1px solid rgba(55,65,81,0.9);
      font-size: 0.72rem;
    }

    .review-tag.topic {
      border-color: rgba(56,189,248,0.7);
      color: #e0f2fe;
      background: rgba(8,47,73,0.9);
    }

    footer {
      margin-top: 6px;
      font-size: 0.75rem;
      color: #9ca3af;
      display: flex;
      justify-content: space-between;
      gap: 8px;
      flex-wrap: wrap;
    }
  </style>
</head>
<body>
  <div class="app-container">
    <header>
      <h1>
        Cuestionario de Hardware y Redes
        <span class="header-badge">Versi√≥n D ¬∑ Enfoque did√°ctico</span>
      </h1>
      <p>
        Registra tu nombre, responde 20 preguntas de opci√≥n m√∫ltiple (a‚Äìe) sobre hardware y redes de computadoras
        y revisa al final tus aciertos, errores y las explicaciones de cada concepto. La idea es que aprendas,
        no s√≥lo que memorices.
      </p>
    </header>

    <div class="layout">
      <!-- Columna izquierda: datos + cuestionario + resultados -->
      <section class="card-main">
        <div class="card-header">
          <h2>Datos del estudiante</h2>
          <span class="pill">Obligatorio para iniciar</span>
        </div>
        <p class="helper-text">
          Escribe tu nombre. Aparecer√° en la cabecera de la prueba y en el resumen final.
        </p>

        <div class="field">
          <label for="studentName">Nombre y apellidos</label>
          <input type="text" id="studentName" placeholder="Ej: Mar√≠a Rodr√≠guez" />
        </div>

        <button id="btnStart" class="btn" disabled>
          <span class="icon">‚ñ∂Ô∏è</span>
          Iniciar cuestionario
        </button>

        <div class="tags-row">
          <span class="tag">üß© 20 preguntas aleatorias</span>
          <span class="tag">üñ•Ô∏è Hardware</span>
          <span class="tag">üåê Redes</span>
          <span class="tag">üìö Explicaci√≥n concepto por pregunta</span>
        </div>

        <!-- Contenedor del cuestionario -->
        <div id="quizContainer" class="quiz-wrapper hidden">
          <div class="quiz-header">
            <div class="quiz-top-row">
              <div id="lblStudent" class="badge">Estudiante: ‚Äî</div>
              <div id="lblCounter" class="badge">Pregunta 0 / 20</div>
            </div>
            <div class="progress-bar">
              <div id="progressInner" class="progress-inner"></div>
            </div>
          </div>

          <div id="questionBlock">
            <p id="questionText" class="question-text">
              Escribe tu nombre y pulsa ‚ÄúIniciar cuestionario‚Äù para empezar.
            </p>
            <ul id="optionsList" class="options-list"></ul>
          </div>

          <div class="quiz-footer">
            <button id="btnNext" class="btn" disabled>
              <span class="icon">‚û°Ô∏è</span>
              Siguiente
            </button>
            <span id="statusNote">
              Selecciona una opci√≥n para poder avanzar.
            </span>
          </div>
        </div>

        <!-- Contenedor de resultados -->
        <div id="resultsContainer" class="results-section hidden">
          <h3>Resultados del cuestionario</h3>
          <p class="helper-text" id="resultsIntro"></p>

          <div class="results-summary">
            <div class="summary-pill">
              <span class="dot success"></span>
              <span id="lblCorrect">0 aciertos</span>
            </div>
            <div class="summary-pill">
              <span class="dot error"></span>
              <span id="lblIncorrect">0 fallos</span>
            </div>
            <div class="summary-pill">
              üßÆ <span id="lblScore" class="score-text">0%</span>
            </div>
          </div>

          <h4 style="font-size:0.9rem;margin-bottom:4px;">Revisi√≥n conceptual</h4>
          <p class="helper-text">
            Para cada pregunta puedes ver tu respuesta, la respuesta correcta y una breve explicaci√≥n del concepto
            (RAM, router, topolog√≠a, IP, etc.). √ösalo como gu√≠a de estudio.
          </p>

          <div id="reviewList" class="review-list"></div>

          <div style="margin-top:8px;display:flex;flex-wrap:wrap;gap:8px;">
            <button id="btnRetry" class="btn">
              <span class="icon">üîÅ</span>
              Volver a intentar con otras preguntas
            </button>
            <button id="btnResetAll" class="btn btn-outline">
              <span class="icon">‚úèÔ∏è</span>
              Cambiar nombre y reiniciar
            </button>
          </div>
        </div>
      </section>

      <!-- Columna derecha: panel pedag√≥gico -->
      <section class="card-side">
        <div class="side-title">
          <span class="icon">üìô</span>
          <span>Foco del concepto de la pregunta actual</span>
        </div>
        <div id="sideTopic" class="side-topic">
          <span class="dot"></span>
          Sin iniciar
        </div>
        <div id="sideBox" class="side-box">
          Antes de comenzar, recuerda esta idea general:
          <br /><br />
          <strong>Hardware</strong> es todo lo f√≠sico del sistema (CPU, RAM, discos, tarjetas, cables),
          mientras que <strong>red de computadoras</strong> es el conjunto de dispositivos conectados que
          comparten recursos (informaci√≥n, impresoras, Internet, etc.).
        </div>
        <div class="side-footer">
          A medida que cambie la pregunta, aqu√≠ ver√°s el tema clave y una explicaci√≥n corta.
          Al final, la secci√≥n de revisi√≥n te permitir√° profundizar en lo que fallaste.
        </div>
      </section>
    </div>

    <footer>
      <span>Evaluaci√≥n formativa de fundamentos de hardware y redes de computadoras.</span>
      <span>Interfaz responsiva ¬∑ Pensado para aprender mientras se eval√∫a.</span>
    </footer>
  </div>

  <script>
    // ============================
    // Banco de preguntas
    // Cada pregunta tiene:
    //  - enunciado
    //  - opciones (a-e)
    //  - correcta (√≠ndice)
    //  - tema (texto corto)
    //  - explicacion (texto did√°ctico)
    // ============================
    const questionBank = [
      {
        enunciado: "La memoria RAM en un computador se utiliza principalmente para:",
        opciones: [
          "a) Almacenar programas de forma permanente.",
          "b) Guardar configuraciones de la BIOS.",
          "c) Almacenar temporalmente datos e instrucciones en uso.",
          "d) Mantener copias de seguridad del disco.",
          "e) Contener √∫nicamente archivos de v√≠deo."
        ],
        correcta: 2,
        tema: "Memoria RAM",
        explicacion: "La RAM es la memoria de trabajo del sistema: guarda datos e instrucciones mientras se ejecutan los programas. Es vol√°til: se borra al apagar el equipo."
      },
      {
        enunciado: "¬øCu√°l de los siguientes componentes se considera el ‚Äúcerebro‚Äù del computador?",
        opciones: [
          "a) GPU",
          "b) CPU o procesador",
          "c) Tarjeta de sonido",
          "d) Fuente de poder",
          "e) Disco duro externo"
        ],
        correcta: 1,
        tema: "CPU / Procesador",
        explicacion: "La CPU ejecuta instrucciones y coordina las operaciones. Su arquitectura y frecuencia influyen directamente en la velocidad global del sistema."
      },
      {
        enunciado: "¬øQu√© dispositivo de red se encarga de interconectar redes diferentes y enrutar paquetes entre ellas?",
        opciones: [
          "a) Switch no gestionable",
          "b) Repetidor de se√±al",
          "c) Router",
          "d) Hub",
          "e) Punto de acceso (AP)"
        ],
        correcta: 2,
        tema: "Router",
        explicacion: "El router conecta redes distintas (LAN, WAN, Internet) y decide por qu√© camino enviar los paquetes, usando tablas de enrutamiento."
      },
      {
        enunciado: "Una red LAN (Local Area Network) se caracteriza por:",
        opciones: [
          "a) Cubrir grandes distancias entre ciudades o pa√≠ses.",
          "b) Conectar dispositivos en un √°rea limitada como un aula o edificio.",
          "c) Utilizar √∫nicamente enlaces inal√°mbricos satelitales.",
          "d) Permitir conexi√≥n solo a servidores web.",
          "e) Ser exclusiva para redes de telefon√≠a m√≥vil."
        ],
        correcta: 1,
        tema: "Red LAN",
        explicacion: "Una LAN conecta dispositivos en un espacio reducido (laboratorio, hogar, oficina) con alta velocidad y baja latencia."
      },
      {
        enunciado: "¬øQu√© afirmaci√≥n describe mejor al switch dentro de una red local?",
        opciones: [
          "a) Amplifica la se√±al sin distinguir destinos.",
          "b) Reemplaza la funci√≥n del router hacia Internet.",
          "c) Env√≠a los datos a todos los puertos, sin excepci√≥n.",
          "d) Conecta dispositivos dentro de una LAN y dirige tramas solo al puerto correspondiente.",
          "e) Sirve √∫nicamente como punto de acceso inal√°mbrico."
        ],
        correcta: 3,
        tema: "Switch",
        explicacion: "El switch aprende las direcciones MAC de los dispositivos y reenv√≠a tramas √∫nicamente al puerto donde est√° el equipo destino."
      },
      {
        enunciado: "¬øQu√© tipo de medio de transmisi√≥n utiliza pares de hilos de cobre trenzados entre s√≠?",
        opciones: [
          "a) Fibra √≥ptica",
          "b) Cable coaxial",
          "c) Par trenzado (UTP / STP)",
          "d) Microondas terrestres",
          "e) Enlaces satelitales"
        ],
        correcta: 2,
        tema: "Par trenzado",
        explicacion: "El par trenzado, t√≠pico en cables Ethernet, usa pares de cobre entrelazados para reducir interferencias y permitir enlaces de red fiables."
      },
      {
        enunciado: "¬øQu√© direcci√≥n identifica de forma l√≥gica a un dispositivo en una red basada en TCP/IP?",
        opciones: [
          "a) Direcci√≥n MAC",
          "b) Direcci√≥n IP",
          "c) M√°scara de subred",
          "d) Direcci√≥n DNS",
          "e) Direcci√≥n de puerta de enlace (gateway)"
        ],
        correcta: 1,
        tema: "Direcci√≥n IP",
        explicacion: "La direcci√≥n IP es un identificador l√≥gico para cada dispositivo en la red. En conjunto con la m√°scara, define qu√© parte es red y cu√°l host."
      },
      {
        enunciado: "¬øQu√© componente suministra energ√≠a el√©ctrica estable y en los voltajes adecuados a los dem√°s dispositivos del PC?",
        opciones: [
          "a) Bater√≠a de la placa madre",
          "b) Fuente de poder (PSU)",
          "c) Tarjeta de video",
          "d) M√≥dem",
          "e) Unidad de estado s√≥lido"
        ],
        correcta: 1,
        tema: "Fuente de poder",
        explicacion: "La fuente de poder convierte la corriente alterna en tensiones continuas adecuadas para CPU, placa base, discos, GPU, etc."
      },
      {
        enunciado: "La memoria ROM en un sistema de c√≥mputo se caracteriza por:",
        opciones: [
          "a) Ser vol√°til y perder su contenido al apagar.",
          "b) Guardar temporalmente datos de usuario.",
          "c) Ser de solo lectura y contener informaci√≥n permanente como el firmware.",
          "d) Almacenar exclusivamente archivos de v√≠deo.",
          "e) Ser utilizada como memoria gr√°fica dedicada."
        ],
        correcta: 2,
        tema: "Memoria ROM / Firmware",
        explicacion: "La ROM suele almacenar el firmware de arranque (BIOS/UEFI). Su contenido se mantiene aun cuando el equipo est√° apagado."
      },
      {
        enunciado: "¬øQu√© dispositivo se usa t√≠picamente para asignar direcciones IP de forma autom√°tica a los equipos de una red?",
        opciones: [
          "a) Servidor DNS",
          "b) Servidor DHCP",
          "c) Servidor FTP",
          "d) Servidor web",
          "e) Servidor de impresi√≥n"
        ],
        correcta: 1,
        tema: "DHCP",
        explicacion: "DHCP asigna autom√°ticamente IP, m√°scara, puerta de enlace y servidores DNS, evitando configuraciones manuales en cada equipo."
      },
      {
        enunciado: "En una topolog√≠a en estrella, los equipos de la red:",
        opciones: [
          "a) Se conectan en un anillo cerrado sin nodo central.",
          "b) Se conectan de forma aleatoria sin patr√≥n definido.",
          "c) Est√°n conectados a un nodo central (como un switch) que concentra las comunicaciones.",
          "d) Est√°n conectados punto a punto en cadena lineal.",
          "e) Solo se conectan de manera inal√°mbrica."
        ],
        correcta: 2,
        tema: "Topolog√≠a en estrella",
        explicacion: "En la topolog√≠a en estrella, todos los nodos se conectan a un dispositivo central. Es muy usada por su simplicidad y facilidad de diagn√≥stico."
      },
      {
        enunciado: "La placa base (motherboard) de un computador se encarga de:",
        opciones: [
          "a) Almacenar el sistema operativo.",
          "b) Suministrar energ√≠a a la red el√©ctrica.",
          "c) Conectar y permitir la comunicaci√≥n entre CPU, memoria, almacenamiento y perif√©ricos.",
          "d) Traducir direcciones IP a nombres de dominio.",
          "e) Ejecutar directamente las aplicaciones del usuario."
        ],
        correcta: 2,
        tema: "Placa base",
        explicacion: "La placa base es el circuito principal que integra conectores, ranuras, buses y chips que permiten que todos los componentes se comuniquen."
      },
      {
        enunciado: "¬øQu√© componente del hardware est√° especializado en el procesamiento de gr√°ficos e im√°genes?",
        opciones: [
          "a) CPU",
          "b) GPU o tarjeta gr√°fica",
          "c) Tarjeta de sonido",
          "d) Fuente de poder",
          "e) Unidad de disco √≥ptico"
        ],
        correcta: 1,
        tema: "GPU / Tarjeta gr√°fica",
        explicacion: "La GPU est√° optimizada para procesar gr√°ficos y v√≠deo. Tambi√©n se usa hoy en d√≠a para tareas de c√≥mputo paralelo intensivo."
      },
      {
        enunciado: "¬øCu√°l de las siguientes opciones describe mejor una red WAN?",
        opciones: [
          "a) Red de √°rea personal alrededor de un usuario.",
          "b) Red que conecta dispositivos solo dentro de un aula.",
          "c) Red de √°rea amplia que puede abarcar ciudades, pa√≠ses o continentes.",
          "d) Red inal√°mbrica de corto alcance basada en Bluetooth.",
          "e) Red dedicada √∫nicamente a impresoras corporativas."
        ],
        correcta: 2,
        tema: "Red WAN",
        explicacion: "Una WAN conecta redes geogr√°ficamente dispersas. Por ejemplo, interconecta las sedes de una empresa en diferentes ciudades."
      },
      {
        enunciado: "¬øQu√© est√°ndar se utiliza de forma habitual para redes inal√°mbricas Wi-Fi en entornos dom√©sticos y de oficina?",
        opciones: [
          "a) IEEE 802.3",
          "b) IEEE 802.11",
          "c) IEEE 1394",
          "d) IEEE 754",
          "e) IEEE 802.5"
        ],
        correcta: 1,
        tema: "Wi-Fi / IEEE 802.11",
        explicacion: "IEEE 802.11 define las versiones de Wi-Fi (a/b/g/n/ac/ax) utilizadas para redes inal√°mbricas de corta y media distancia."
      },
      {
        enunciado: "La direcci√≥n MAC de una tarjeta de red se utiliza para:",
        opciones: [
          "a) Identificar l√≥gicamente al dispositivo en Internet.",
          "b) Identificar de manera f√≠sica la interfaz de red a nivel de enlace de datos.",
          "c) Indicar la puerta de enlace por defecto.",
          "d) Identificar el servicio DNS preferido.",
          "e) Indicar el tipo de medio f√≠sico utilizado."
        ],
        correcta: 1,
        tema: "Direcci√≥n MAC",
        explicacion: "La MAC es un identificador f√≠sico √∫nico asociado a la tarjeta de red. Los switches la usan para reenviar tramas correctamente."
      },
      {
        enunciado: "¬øCu√°l de los siguientes es un ejemplo claro de perif√©rico de entrada de datos?",
        opciones: [
          "a) Impresora de inyecci√≥n de tinta",
          "b) Monitor LED",
          "c) Parlantes est√©reo",
          "d) Teclado",
          "e) Proyector multimedia"
        ],
        correcta: 3,
        tema: "Perif√©ricos de entrada",
        explicacion: "El teclado es un perif√©rico cl√°sico de entrada: permite introducir datos y √≥rdenes al computador."
      },
      {
        enunciado: "El protocolo HTTP/HTTPS se utiliza principalmente para:",
        opciones: [
          "a) Enviar y recibir correos electr√≥nicos.",
          "b) Transferir archivos grandes entre servidores.",
          "c) Administrar remotamente dispositivos de red.",
          "d) Navegar y acceder a p√°ginas web.",
          "e) Sincronizar relojes en la red."
        ],
        correcta: 3,
        tema: "HTTP / HTTPS",
        explicacion: "HTTP y HTTPS definen c√≥mo el navegador y el servidor web intercambian solicitudes y respuestas para mostrar p√°ginas y recursos."
      },
      {
        enunciado: "¬øQu√© dispositivo se utiliza para extender el alcance de una se√±al sin interpretar el contenido de los datos?",
        opciones: [
          "a) Router de borde",
          "b) Switch capa 3",
          "c) Repetidor",
          "d) Firewall",
          "e) Proxy de contenido"
        ],
        correcta: 2,
        tema: "Repetidor",
        explicacion: "El repetidor regenera y amplifica la se√±al para cubrir m√°s distancia, pero no toma decisiones de enrutamiento ni filtrado."
      },
      {
        enunciado: "En el modelo OSI, los switches Ethernet cl√°sicos suelen trabajar principalmente en la capa:",
        opciones: [
          "a) Aplicaci√≥n",
          "b) Transporte",
          "c) Red",
          "d) Enlace de datos",
          "e) F√≠sica"
        ],
        correcta: 3,
        tema: "Modelo OSI / Capa 2",
        explicacion: "Los switches tradicionales trabajan en la capa de enlace de datos (capa 2), usando direcciones MAC para reenviar tramas."
      },
      {
        enunciado: "¬øQu√© componente almacena el sistema operativo y los archivos del usuario de manera persistente?",
        opciones: [
          "a) Memoria cach√© L1",
          "b) Memoria RAM",
          "c) Disco duro o unidad SSD",
          "d) Memoria ROM",
          "e) Tarjeta de red"
        ],
        correcta: 2,
        tema: "Almacenamiento secundario",
        explicacion: "Los discos duros y SSD guardan la informaci√≥n incluso cuando el equipo est√° apagado: sistema operativo, programas y datos personales."
      },
      {
        enunciado: "Cuando hablamos de ‚Äúancho de banda‚Äù en una red, nos referimos a:",
        opciones: [
          "a) El n√∫mero de usuarios conectados a la vez.",
          "b) La distancia m√°xima del cableado.",
          "c) La capacidad m√°xima de transmisi√≥n de datos en un intervalo de tiempo.",
          "d) El tama√±o f√≠sico del cable.",
          "e) El n√∫mero de puertos del switch."
        ],
        correcta: 2,
        tema: "Ancho de banda",
        explicacion: "El ancho de banda indica cu√°ntos datos pueden circular por un enlace en un tiempo dado (por ejemplo, Mb/s)."
      },
      {
        enunciado: "¬øCu√°l de estas opciones describe mejor el rol de la tarjeta de red (NIC)?",
        opciones: [
          "a) Acelerar el procesador principal.",
          "b) Proporcionar energ√≠a a los perif√©ricos.",
          "c) Conectar el equipo a la red y manejar el env√≠o/recepci√≥n de tramas o paquetes.",
          "d) Ejecutar el sistema operativo.",
          "e) Reemplazar la funci√≥n de la GPU."
        ],
        correcta: 2,
        tema: "Tarjeta de red (NIC)",
        explicacion: "La NIC es la interfaz f√≠sica y l√≥gica del equipo con la red. Se encarga de transmitir y recibir datos seg√∫n el medio y protocolo."
      }
    ];

    const TOTAL_QUESTIONS = 20;

    // Estado
    let selectedQuestions = [];
    let currentIndex = 0;
    let studentName = "";
    let answersLog = []; // {enunciado, opciones, elegida, correcta, tema, explicacion}

    // DOM refs
    const inputName = document.getElementById("studentName");
    const btnStart = document.getElementById("btnStart");
    const quizContainer = document.getElementById("quizContainer");
    const resultsContainer = document.getElementById("resultsContainer");

    const lblStudent = document.getElementById("lblStudent");
    const lblCounter = document.getElementById("lblCounter");
    const progressInner = document.getElementById("progressInner");
    const questionText = document.getElementById("questionText");
    const optionsList = document.getElementById("optionsList");
    const btnNext = document.getElementById("btnNext");
    const statusNote = document.getElementById("statusNote");

    const resultsIntro = document.getElementById("resultsIntro");
    const lblCorrect = document.getElementById("lblCorrect");
    const lblIncorrect = document.getElementById("lblIncorrect");
    const lblScore = document.getElementById("lblScore");
    const reviewList = document.getElementById("reviewList");
    const btnRetry = document.getElementById("btnRetry");
    const btnResetAll = document.getElementById("btnResetAll");

    const sideTopic = document.getElementById("sideTopic");
    const sideBox = document.getElementById("sideBox");

    // Utilidades
    function shuffle(arr) {
      const copy = [...arr];
      for (let i = copy.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [copy[i], copy[j]] = [copy[j], copy[i]];
      }
      return copy;
    }

    function pickRandomQuestions(count) {
      const shuffled = shuffle(questionBank);
      return shuffled.slice(0, count);
    }

    function updateSidePanel(question) {
      if (!question) {
        sideTopic.innerHTML = '<span class="dot"></span> Sin iniciar';
        sideBox.innerHTML =
          "Antes de comenzar, recuerda esta idea general:<br /><br />" +
          "<strong>Hardware</strong> es todo lo f√≠sico del sistema (CPU, RAM, discos, tarjetas, cables), " +
          "mientras que <strong>red de computadoras</strong> es el conjunto de dispositivos conectados " +
          "que comparten recursos (informaci√≥n, impresoras, Internet, etc.).";
        return;
      }
      sideTopic.innerHTML = '<span class="dot"></span> ' + question.tema;
      sideBox.innerHTML = "<strong>" + question.tema + ":</strong> " + question.explicacion;
    }

    // L√≥gica principal
    function startQuiz() {
      studentName = inputName.value.trim();
      if (!studentName) return;

      selectedQuestions = pickRandomQuestions(TOTAL_QUESTIONS);
      currentIndex = 0;
      answersLog = [];

      lblStudent.textContent = "Estudiante: " + studentName;
      quizContainer.classList.remove("hidden");
      resultsContainer.classList.add("hidden");

      renderQuestion();
    }

    function renderQuestion() {
      const q = selectedQuestions[currentIndex];
      const total = selectedQuestions.length;

      lblCounter.textContent = `Pregunta ${currentIndex + 1} / ${total}`;
      const percent = (currentIndex / total) * 100;
      progressInner.style.width = percent + "%";

      questionText.textContent = q.enunciado;
      optionsList.innerHTML = "";
      btnNext.disabled = true;
      statusNote.textContent = "Selecciona una opci√≥n para poder avanzar.";

      updateSidePanel(q);

      q.opciones.forEach((text, idx) => {
        const li = document.createElement("li");
        li.className = "option-item";

        const input = document.createElement("input");
        input.type = "radio";
        input.name = "option";
        input.id = "opt-" + idx;
        input.value = idx;

        const label = document.createElement("label");
        label.setAttribute("for", "opt-" + idx);
        label.className = "option-label";

        const letterSpan = document.createElement("span");
        letterSpan.className = "option-letter";
        letterSpan.textContent = String.fromCharCode(97 + idx) + ")";

        const textSpan = document.createElement("span");
        textSpan.textContent = text.replace(/^[a-e]\)\s*/i, "");

        label.appendChild(letterSpan);
        label.appendChild(textSpan);

        li.appendChild(input);
        li.appendChild(label);
        optionsList.appendChild(li);

        li.addEventListener("click", () => {
          input.checked = true;
          btnNext.disabled = false;
          statusNote.textContent = "Revisa bien tu elecci√≥n y luego pulsa Siguiente.";
        });

        input.addEventListener("change", () => {
          btnNext.disabled = false;
          statusNote.textContent = "Revisa bien tu elecci√≥n y luego pulsa Siguiente.";
        });
      });

      btnNext.innerHTML =
        currentIndex === total - 1
          ? '<span class="icon">‚úÖ</span> Finalizar cuestionario'
          : '<span class="icon">‚û°Ô∏è</span> Siguiente';
    }

    function handleNext() {
      const selected = document.querySelector('input[name="option"]:checked');
      if (!selected) return;

      const chosenIndex = parseInt(selected.value, 10);
      const q = selectedQuestions[currentIndex];

      answersLog.push({
        enunciado: q.enunciado,
        opciones: q.opciones,
        elegida: chosenIndex,
        correcta: q.correcta,
        tema: q.tema,
        explicacion: q.explicacion
      });

      currentIndex++;
      if (currentIndex < selectedQuestions.length) {
        renderQuestion();
      } else {
        showResults();
      }
    }

    function showResults() {
      const total = answersLog.length;
      const correct = answersLog.filter(a => a.elegida === a.correcta).length;
      const incorrect = total - correct;
      const percent = Math.round((correct / total) * 100);

      quizContainer.classList.add("hidden");
      resultsContainer.classList.remove("hidden");

      resultsIntro.textContent =
        `Bien hecho, ${studentName}. Usa la revisi√≥n para entender en qu√© temas est√°s fuerte ` +
        `y en cu√°les conviene repasar un poco m√°s.`;

      lblCorrect.textContent = `${correct} aciertos`;
      lblIncorrect.textContent = `${incorrect} fallos`;
      lblScore.textContent = `${percent}%`;

      reviewList.innerHTML = "";
      answersLog.forEach((a, idx) => {
        const isCorrect = a.elegida === a.correcta;
        const item = document.createElement("div");
        item.className = "review-item " + (isCorrect ? "correct" : "incorrect");

        const title = document.createElement("h4");
        title.textContent = "Pregunta " + (idx + 1);
        item.appendChild(title);

        const pQ = document.createElement("p");
        pQ.textContent = a.enunciado;
        item.appendChild(pQ);

        const pYour = document.createElement("p");
        const yourText =
          a.elegida >= 0 ? a.opciones[a.elegida] : "No respondida";
        pYour.innerHTML = "<strong>Tu respuesta:</strong> " + yourText;
        item.appendChild(pYour);

        if (!isCorrect) {
          const pCorrect = document.createElement("p");
          pCorrect.innerHTML =
            "<strong>Respuesta correcta:</strong> " + a.opciones[a.correcta];
          item.appendChild(pCorrect);
        }

        const pConcept = document.createElement("p");
        pConcept.innerHTML =
          "<strong>Concepto:</strong> " + a.tema + ". " + a.explicacion;
        item.appendChild(pConcept);

        const tags = document.createElement("div");
        tags.className = "review-tags";

        const tagTopic = document.createElement("span");
        tagTopic.className = "review-tag topic";
        tagTopic.textContent = a.tema;

        const tagState = document.createElement("span");
        tagState.className = "review-tag";
        tagState.textContent = isCorrect ? "‚úÖ Acertada" : "‚ùå Fallida";

        tags.appendChild(tagTopic);
        tags.appendChild(tagState);
        item.appendChild(tags);

        reviewList.appendChild(item);
      });

      // Completar barra y panel lateral final
      progressInner.style.width = "100%";
      lblCounter.textContent = `Completaste las ${total} preguntas`;

      sideTopic.innerHTML = '<span class="dot"></span> Revisi√≥n final';
      sideBox.innerHTML =
        "Observa qu√© temas acertaste (por ejemplo, <strong>RAM</strong>, <strong>direccionamiento IP</strong>) " +
        "y cu√°les fallaste (como <strong>modelo OSI</strong>, <strong>topolog√≠as</strong>). Eso te muestra " +
        "d√≥nde enfocarte al estudiar.";
    }

    function resetSameName() {
      startQuiz(); // mantiene el mismo nombre, nuevo set de preguntas
    }

    function resetAll() {
      inputName.value = "";
      btnStart.disabled = true;
      studentName = "";
      selectedQuestions = [];
      answersLog = [];
      currentIndex = 0;

      quizContainer.classList.add("hidden");
      resultsContainer.classList.add("hidden");

      questionText.textContent =
        "Escribe tu nombre y pulsa ‚ÄúIniciar cuestionario‚Äù para empezar.";
      optionsList.innerHTML = "";
      lblStudent.textContent = "Estudiante: ‚Äî";
      lblCounter.textContent = "Pregunta 0 / 20";
      progressInner.style.width = "0%";
      statusNote.textContent = "Selecciona una opci√≥n para poder avanzar.";

      updateSidePanel(null);
    }

    // Eventos
    inputName.addEventListener("input", () => {
      const value = inputName.value.trim();
      btnStart.disabled = value.length < 2;
    });

    btnStart.addEventListener("click", startQuiz);
    btnNext.addEventListener("click", handleNext);
    btnRetry.addEventListener("click", resetSameName);
    btnResetAll.addEventListener("click", resetAll);

    // Estado inicial lado derecho
    updateSidePanel(null);
  </script>
</body>
</html>
